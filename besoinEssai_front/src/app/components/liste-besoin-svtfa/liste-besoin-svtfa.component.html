<div class="container">


  <div class="sidebar">
    <div class="logo">
      <ul class="menu">

        <li (click)="naviguerAcceuil()">
            <!-- <a href=""> -->
              <i class="fa-solid fa-house icon2"></i>       
              <span>Acceuil</span>   
            <!-- </a>         -->
        </li>

        <li (click)="naviguerApplication()">
          <!-- <a href=""> -->
            <i class="fa-solid fa-check icon2"></i>
            <span>Valider</span>
          <!-- </a> -->
        </li>

        <li (click)="naviguerListe()">
          <!-- <a href=""> -->
            <i class="fa-solid fa-list icon2"></i>
            <span>Liste</span>
          <!-- </a> -->
        </li>

        <li (click)="naviguerCreation()">
          <!-- <a href=""> -->
            <i class="fa-solid fa-plus icon2"></i>
            <span>Ajout</span>
          <!-- </a> -->
        </li>

        
        <li (click)="naviguerInformer()">
          <!-- <a href=""> -->
            <i class="fa-solid fa-message icon2"></i>
            <span>Informer</span>
          <!-- </a> -->
        </li>

        <li class="logout" (click)="Deconnexion()">
          <!-- <a href=""> -->
            <i class="fa-solid fa-right-from-bracket icon2"></i>
          <span>Deconnexionn</span>
          <!-- </a> -->
        </li>
      </ul>
    </div>
  </div>


  <div class="tabular--wrapper">
    <h1 class="main-title">Liste des besoins</h1>
    <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Application</th>
              <th>Besoin</th>
              <th>Description</th>
              <th>Date Creation</th>
              <th>Email</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let besoin of besoins | paginate: { itemsPerPage: 5, currentPage: p }">
              <td>{{besoin?.application?.nomApplication}}</td>
              <td>{{besoin?.titreBesoin}}</td>
              <td>{{besoin?.descriptionBesoin}}</td>
              <td>{{besoin?.dateCreation | date:'dd/MM/YYYY'}}</td>
              <td>{{besoin?.utilisateur?.email}}</td>
              <td class="bouton"><button (click)="supprimerBesoin(besoin)" ><i class="fa-solid fa-trash-can supprimer icon"></i></button>
                <button (click)="modifierBesoin(besoin)"><i  class="fa-regular fa-pen-to-square modifier icon"></i></button>
            </td>
            </tr>
          </tbody>
          <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </table>
        
      </div>
    </div>
</div>

<div class="container-modal">
  <div class="success-modal" *ngIf="isModalVisible">
      <div class="modal-content">
          <i class="fa-solid fa-check check"></i>
          <h2>Succès!</h2>
          <p>Le besoin a été supprimé avec succès.</p>
          <button (click)="closeSuccessModal()">OK</button>
      </div>
  </div>
</div>
<div class="container-modal-echec">
  <div class="echec-modal" *ngIf="isModalVisible2">
      <div class="modal-content-echec">
          <i class="fa-solid fa-xmark mark"></i>            
          <h2>Echec!</h2>
          <p>Un probleme est survenu lors de la suppression de besoin.</p>
          <button (click)="closeEchecModal()">OK</button>
      </div>
  </div>
</div>